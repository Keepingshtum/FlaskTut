<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <title>Index</title>
</head>

<body>
  <h1 style="color: blue">Index</h1>
  <p>This is an HTML file served up by Flask</p>
  <div id ="upload"></div>
        <div class ="dropzone" id="dropzone">Drop your CSV file here!</div>
        <script>
          (function() {
            var dropzone =document.getElementById('dropzone');

            var upload =function(files){
              var formData = new FormData(),
              xhr =new XMLHttpRequest(),
              x;
              for(x=0;x<files.length;x=x+1)
              {
                formData.append('file[]',files[x]);
              }
              xhr.onload =function() {
                var data = this.responseText;
                console.log(data);
              }
              xhr.open('post','upload.php');
              xhr.send();
            }
            dropzone.ondrop = function(e) {
              e.preventDefault();
              this.className=dropzone;
              upload(e.dataTransfer.files);
            }
            dropzone.ondragover =function (){
              this.className ='dropzone dragover';
              return false;
            }
            
            dropzone.ondragleave =function (){
              this.className ='dropzone';
              return false;
            }
          }());
        </script>

</body>

</html>